
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Junk I Would Otherwise Forget</title>
  <meta name="author" content="Nick Miller">

  
  <meta name="description" content="1
&lt;scheme name&gt; : &lt;hierarchical part&gt; [ ? &lt;query&gt; ] [ # &lt;fragment&gt; ] The hierarchical part can have an &#8216;authority&#8217 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="nickmiller.com.au/blog/page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Junk I Would Otherwise Forget" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Junk I Would Otherwise Forget</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nickmiller.com.au" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/25/parts-of-uri/">Parts of Uri</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-25T09:13:17+10:00" pubdate data-updated="true">Aug 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;scheme name&gt; : &lt;hierarchical part&gt; [ ? &lt;query&gt; ] [ # &lt;fragment&gt; ]</span></code></pre></td></tr></table></div></figure>


<p>The hierarchical part can have an &#8216;authority&#8217;, like &#8216;username:password@&#8217;, then a host name, then optionally a colon followed by port number.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/23/how-to-sense-the-port-of-a-running-lightswitch-app-during-development/">How to Sense the Port of a Running Lightswitch App During Development</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-23T00:20:51+10:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ma code: <a href="https://gist.github.com/3422254">https://gist.github.com/3422254</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/21/how-to-find-modified-entities-in-lightswitch/">How to Find Modified Entities in Lightswitch</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-21T22:06:20+10:00" pubdate data-updated="true">Aug 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Add to SaveChanges_Executing() hook (runs before EF writes scheduled changes to database):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'>    <span class="kt">var</span> <span class="n">remainingChangesToMyEntity</span> <span class="p">=</span>
</span><span class='line'>            <span class="k">from</span> <span class="n">e</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="n">DataWorkspace</span><span class="p">.</span><span class="n">ApplicationData</span><span class="p">.</span><span class="n">Details</span><span class="p">.</span><span class="n">GetChanges</span><span class="p">().</span><span class="n">ModifiedEntities</span>
</span><span class='line'>             <span class="k">where</span> <span class="n">e</span> <span class="k">is</span> <span class="n">MyEntity</span>
</span><span class='line'>             <span class="k">select</span> <span class="n">e</span> <span class="k">as</span> <span class="n">MyEntity</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/17/pre-build-event-command-to-remove-output-of-previous-tests/">Pre-build Event Command to Remove Output of Previous Tests</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-17T00:23:43+10:00" pubdate data-updated="true">Aug 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Remove any junk previous test runs may have written to TestOutput directory:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>del /Q $(ProjectDir)\TestOutput</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/16/how-to-enable-tracing-in-lightswitch/">How to Enable Tracing in Lightswitch</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-16T00:12:28+10:00" pubdate data-updated="true">Aug 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Edit Web.config in server project:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;add</span> <span class="na">key=</span><span class="s">&quot;Microsoft.LightSwitch.Trace.Enabled&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Make sure custom errors in web.config is also set to &#8220;Off&#8221; (sic).</p>

<p>Then check <your app root>/trace.axd in browser.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/13/where-to-find-localdb-file-in-lightswitch-project/">Where to Find localDB File in Lightswitch Project</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-13T02:32:35+10:00" pubdate data-updated="true">Aug 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>$(MainLightswitchProjectDirectory)\Bin\Data</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/11/binding-controls-to-lightswitch-screens/">Binding Controls to Lightswitch Screens</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-11T02:22:26+10:00" pubdate data-updated="true">Aug 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Create the control as Silverlight User Control.</p>

<p>Make sure there is a dependency property in the control for the data you want to access from the Lightswitch screen.</p>

<p>Add ref to Lightswitich project.</p>

<p>Add code to the &#8230;Created() hook:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="c1">// The entity for the screen is &#39;Customer&#39;.</span>
</span><span class='line'><span class="k">partial</span> <span class="k">void</span> <span class="nf">Customer_InitializeDataWorkspace</span><span class="p">()</span>  <span class="c1">// some people use .._Created, but this is actually run after the screen is displayed</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">proxy</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">FindControl</span><span class="p">(</span><span class="s">&quot;NameOfYourControl&quot;</span><span class="p">);</span>
</span><span class='line'><span class="cm">/** this is the name in the properties view in Lightswitch, not necessarily the class name of the control**/</span>
</span><span class='line'>    <span class="n">proxy</span><span class="p">.</span><span class="n">ControlAvailable</span> <span class="p">+=</span> <span class="n">OnControlAvailable</span><span class="p">;</span> <span class="c1">// hook up event handler below.  It will fire when Lightswitch initialises the control.</span>
</span><span class='line'>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>csharp</p>

<p>Create new event to set up the binding when Lightswitch initialises control:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">Microsoft.LightSwitch.Threading</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">private</span> <span class="k">void</span> <span class="nf">OnControlAvailable</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span>
</span><span class='line'> <span class="n">ControlAvailableEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'> <span class="n">Dispatchers</span><span class="p">.</span><span class="n">Main</span><span class="p">.</span><span class="n">BeginInvoke</span><span class="p">(()</span> <span class="p">=&gt;</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'><span class="n">YourControlName</span> <span class="n">c</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Control</span> <span class="k">as</span> <span class="n">YourControlName</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// can fiddle with control here if you like</span>
</span><span class='line'>
</span><span class='line'><span class="kt">var</span> <span class="n">b</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Binding</span><span class="p">(</span><span class="s">&quot;Value&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">b</span><span class="p">.</span><span class="n">Mode</span> <span class="p">=</span> <span class="n">BindingMode</span><span class="p">.</span><span class="n">TwoWay</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="n">rc</span><span class="p">.</span><span class="n">SetBinding</span><span class="p">(</span><span class="n">YourControlName</span><span class="p">.</span><span class="n">NameOfDependencyPropertyYouWantToBindTo</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
</span><span class='line'><span class="cm">/**Note this is the name of the dependency property in the control.  It has to end in &#39;Property&#39;.**/</span>
</span><span class='line'> <span class="p">});</span>
</span><span class='line'> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>&#8220;Value&#8221; path in Binding: This specifies the path of what we bind to in the Lightswitch screen.</p>

<p>The Data Context is automatically set by Lightswitch.  Usually the custom control content element is attached to a property of the EF-generated Entity for the screen.  So the data context is already narrowed down to an entity.  For example, the entity of the screen could be &#8216;Customer&#8217;, the table &#8216;Customers&#8217;.</p>

<p>The Customer entity has a &#8216;Name&#8217; property.  The custom control might be attached to the &#8216;Name&#8217; property in the Lightswitch designer.  In this case, then we are binding to the Name.Value.  So when we call SaveChanges() on the data context, the value from the control will go into the database.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/11/how-to-do-dependency-properties-in-xaml/">How to Do Dependency Properties in XAML</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-11T00:12:09+10:00" pubdate data-updated="true">Aug 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class MyStateControl : ButtonBase
</span><span class='line'>{
</span><span class='line'>  public MyStateControl() : base() { }
</span><span class='line'>  public Boolean State
</span><span class='line'>  {
</span><span class='line'>    get { return (Boolean)this.GetValue(StateProperty); }
</span><span class='line'>    set { this.SetValue(StateProperty, value); }
</span><span class='line'>  }
</span><span class='line'>  public static readonly DependencyProperty StateProperty = DependencyProperty.Register(
</span><span class='line'>    "State", typeof(Boolean), typeof(MyStateControl),new PropertyMetadata(false));
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>Remember:</p>

<ul>
<li>The identifier of the property has to end in &#8220;Property&#8221;: eg &#8220;StateProperty&#8221;.</li>
<li>The name of the property here is &#8220;State&#8221;.</li>
<li>Set the property from within the class using the Set on the public property.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/10/how-to-check-attributes-on-a-class/">How to Check Attributes on a Class</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-10T09:08:02+10:00" pubdate data-updated="true">Aug 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="kt">bool</span> <span class="nf">IsEFClass</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="kt">var</span> <span class="n">typeOfT</span> <span class="p">=</span> <span class="k">typeof</span> <span class="p">(</span><span class="n">T</span><span class="p">);</span>
</span><span class='line'><span class="kt">var</span> <span class="n">attributes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Attribute</span><span class="p">.</span><span class="n">GetCustomAttributes</span><span class="p">(</span><span class="n">typeOfT</span><span class="p">);</span>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="n">attributes</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="k">is</span> <span class="n">System</span><span class="p">.</span><span class="n">Data</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">Common</span><span class="p">.</span><span class="n">EntitySetAttribute</span><span class="p">))</span>
</span><span class='line'>   <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'><span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/10/how-to-use-xmlserializer/">How to Use XmlSerializer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-10T03:26:47+10:00" pubdate data-updated="true">Aug 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>XmlSerializer xmlSerializer = new XmlSerializer(typeof(lkif));</p>

<p>var lkifToSerialize = new lkif();</p>

<p>lkifToSerialize.PopulateFromRulebase(this);</p>

<p>xmlSerializer.Serialize(xmlWriter,lkifToSerialize);</p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/06/dot-net-collections-i-would-otherwise-forget/">Junk about .NET collections I would otherwise forget</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/03/lightswitch-cheat-sheet/">Order of Lightswitch screen events</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/31/git-cheat-sheet/">git cheat sheet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/21/wpf-cheat-sheet/">WPF Cheat Sheet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/20/run-nuget-on-build-so-you-dont-have-to-keep-libs-in-source-control/">Run NuGet on build so you don&#8217;t have to keep libs in source control</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/16/location-of-windows-8-log-files/">Location of Windows 8 log files</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/15/expand-root-partition-on-windows-ec2-instance-using-aws-console/">Expand root partition on Windows EC2 instance using AWS Console</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/09/path-to-localdb-instances/">Path to localDB instances</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/09/validate-xml-file-against-schema/">Validate XML file against schema</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/24/awesome-outline-of-date-format-strings-for-net/">Awesome outline of date format strings for .NET</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/23/how-to-remap-key-in-linux/">How to remap key in linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/22/simple-linq-group/">Simple LINQ group</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/02/how-to-concatenate-pdf-files-in-linux/">How to concatenate PDF files in linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/02/when-to-use-decimals-and-when-to-use-floats-or-doubles/">When to use decimals and when to use floats or doubles</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/02/how-to-check-if-a-sequence-is-ordered-in-a-contract/">How to check if a sequence is ordered</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/29/scala-sbt-build-definitions-its-turtles-all-the-way-down/">Scala SBT build definitions: it&#8217;s turtles all the way down!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/21/delete-files-older-than-7-days/">Delete files older than 7 days</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/15/difference-between-super-set-and-proper-super-set-also-subsets/">Difference between Super Set and Proper Super Set (also subsets)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/15/example-of-using-enum-hasflags/">Example of using Enum.HasFlags</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/12/personal-programming-principles/">Personal Programming Principles</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Nick Miller -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
